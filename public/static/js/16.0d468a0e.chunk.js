(this["webpackJsonpdva-boot-admin"]=this["webpackJsonpdva-boot-admin"]||[]).push([[16],{1140:function(e,t,n){"use strict";n.r(t);var r=n(32),a=n(55),c=n.n(a),u=n(294),s=n(834),i=n(127),o=n(84),p=n.n(o),f=n(836),l=n(75),d=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/page",{params:s.a.requestFormat(t)});case 2:return n=e.sent,r=n.data,e.abrupt("return",s.a.responseFormat(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/page",t);case 2:return n=e.sent,(r=n.data).message&&l.a.notice.success(r.message),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.put("/page/"+t.id,t);case 2:return n=e.sent,(r=n.data).message&&l.a.notice.success(r.message),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=11;break}return r=t[n],e.next=5,p.a.delete("/page/"+r);case 5:a=e.sent,(u=a.data).message&&l.a.notice.success(u.message);case 8:n++,e.next=1;break;case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)("/menu/","menus"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.b)("/menu/",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.delete("/menu/"+t);case 2:return n=e.sent,(r=n.data).message&&l.a.notice.success(r.message),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)("/slide/","slides"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.b)("/slide/",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.delete("/slide/"+t);case 2:return n=e.sent,(r=n.data).message&&l.a.notice.success(r.message),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=!0;t.default=Object(u.a)({namespace:"page",state:{pageData:s.a.create(),menus:[],pages:[],slides:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen((function(e){var n=e.pathname,r=e.search;if("/page"===n&&r&&O){O=!1,setTimeout((function(){return O=!0}),500);var a=s.a.URLToArray(r);t({type:"init",payload:a})}}))}},effects:{init:c.a.mark((function e(t,n){var r,a,u,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,u=n.select,e.next=4,u((function(e){return e.page}));case 4:return s=e.sent,i=s.pageData,e.next=8,a({type:"getPageInfo",payload:{pageData:i.setPage(r)}});case 8:return e.next=10,a({type:"getMenu"});case 10:return e.next=12,a({type:"getSlide"});case 12:case"end":return e.stop()}}),e)})),getPageInfo:c.a.mark((function e(t,n){var r,a,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,u=r.pageData,e.next=5,a(d,u);case 5:s=e.sent,u.setPage(s);case 7:case"end":return e.stop()}}),e)})),save:c.a.mark((function e(t,n){var r,a,u,s,i,o,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,u=n.select,s=n.call,i=r.values,o=r.success,e.next=5,u((function(e){return e.page}));case 5:if(p=e.sent,f=p.pageData,!i.id){e.next=12;break}return e.next=10,s(h,i);case 10:e.next=14;break;case 12:return e.next=14,s(v,i);case 14:return e.next=16,a({type:"getPageInfo",payload:{pageData:f}});case 16:return e.next=18,a({type:"getMenu"});case 18:o();case 19:case"end":return e.stop()}}),e)})),remove:c.a.mark((function e(t,n){var r,a,u,s,i,o,p,f,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.put,u=n.select,s=n.call,i=r.records,o=r.success,e.next=5,u((function(e){return e.page}));case 5:return p=e.sent,f=p.pageData,l=i.map((function(e){return e.id})),e.next=10,s(x,l);case 10:return e.next=12,a({type:"getPageInfo",payload:{pageData:f}});case 12:return e.next=14,a({type:"getMenu"});case 14:o();case 15:case"end":return e.stop()}}),e)})),getMenu:c.a.mark((function e(t,n){var r,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,e.next=4,r(g);case 4:return u=e.sent,e.next=7,a({type:"success",payload:u});case 7:case"end":return e.stop()}}),e)})),changeMenu:c.a.mark((function e(t,n){var r,a,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,u=n.put,e.next=4,a(m,r);case 4:return s=e.sent,e.next=7,u({type:"success",payload:{menus:s}});case 7:case"end":return e.stop()}}),e)})),removeMenu:c.a.mark((function e(t,n){var r,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,u=n.put,e.next=4,a(b,r);case 4:return e.next=6,u({type:"getMenu"});case 6:case"end":return e.stop()}}),e)})),getSlide:c.a.mark((function e(t,n){var r,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=n.call,a=n.put,e.next=4,r(y);case 4:return u=e.sent,e.next=7,a({type:"success",payload:u});case 7:case"end":return e.stop()}}),e)})),changeSlide:c.a.mark((function e(t,n){var r,a,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,u=n.put,e.next=4,a(w,r);case 4:return s=e.sent,e.next=7,u({type:"success",payload:{menus:s}});case 7:case"end":return e.stop()}}),e)})),removeSlide:c.a.mark((function e(t,n){var r,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,u=n.put,e.next=4,a(k,r);case 4:return e.next=6,u({type:"getSlide"});case 6:case"end":return e.stop()}}),e)}))},reducers:{success:function(e,t){var n=t.payload;return Object(r.a)(Object(r.a)({},e),n)}}})},834:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),a=n(15),c=n(193),u=n(75),s=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"requestFormat",value:function(e){return u.a.pageHelper.requestFormat(e)}},{key:"responseFormat",value:function(e){return u.a.pageHelper.responseFormat(e)}},{key:"URLToArray",value:function(e){for(var t={},n=e.substring(e.indexOf("?")+1).split("&"),r=0;r<n.length;r++)if(n[r]){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}}]),e}();s.create=function(){return new c.a}},836:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(32),a=n(55),c=n.n(a),u=n(127),s=n(84),i=n.n(s),o=n(75),p=function(){var e=Object(u.a)(c.a.mark((function e(t,n){var r,a,u,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(t);case 2:for(r=e.sent,a=r.data,u=function e(t,n){if(t.children&&t.children.length>0){for(var r=0;r<t.children.length;r++){if(t.id===n.parent_id)return t.children.push(n),t.children;t.children[r].children=e(t.children[r],n)}return t.children}if(t.id===n.parent_id)return[n]},s=[],o=0;o<a[n].length;o++)a[n][o].parent_id&&null!==a[n][o].parent_id?s[s.length-1].children=u(s[s.length-1],a[n][o]):(a[n][o].children=[],s.push(a[n][o]));return a[n]=s,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,s,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.value,s=n.data,p=function(){var e=Object(u.a)(c.a.mark((function e(n,u){var s,f,l,d,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<n.length)){e.next=21;break}if(n[s].parent_id=u,f=Object(r.a)({},n[s]),a&&a.id!==n[s].id){e.next=14;break}return a&&(f=a),l=f.id>0?"put":"post",delete f.children,e.next=10,i.a[l](t+("put"===l?f.id:""),f);case 10:d=e.sent,(v=d.data).message&&o.a.notice.success(v.message),n[s]=Object(r.a)(Object(r.a)({},n[s]),v.data);case 14:if(!n[s].children){e.next=18;break}return e.next=17,p(n[s].children,n[s].id);case 17:n[s].children=e.sent;case 18:s++,e.next=1;break;case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.next=4,p(s,null);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=16.0d468a0e.chunk.js.map