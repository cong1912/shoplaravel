(this["webpackJsonpdva-boot-admin"]=this["webpackJsonpdva-boot-admin"]||[]).push([[14],{1120:function(e,t,r){"use strict";r.r(t);var n=r(32),a=r(55),c=r.n(a),u=r(294),s=r(834),o=r(839),i=!0;t.default=Object(u.a)({namespace:"product",state:{pageData:s.a.create(),categorys:[],brands:[],attributes:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen((function(e){var r=e.pathname,n=e.search;if("/product"===r&&n&&i){i=!1,setTimeout((function(){return i=!0}),500);var a=s.a.URLToArray(n);t({type:"init",payload:a})}}))}},effects:{init:c.a.mark((function e(t,r){var n,a,u,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.put,u=r.select,e.next=4,u((function(e){return e.product}));case 4:return s=e.sent,o=s.pageData,e.next=8,a({type:"getPageInfo",payload:{pageData:o.setPage(n)}});case 8:return e.next=10,a({type:"getCategory"});case 10:return e.next=12,a({type:"getBrand"});case 12:return e.next=14,a({type:"getAttribute"});case 14:case"end":return e.stop()}}),e)})),getPageInfo:c.a.mark((function e(t,r){var n,a,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,u=n.pageData,e.next=5,a(o.k,u);case 5:s=e.sent,u.setPage(s);case 7:case"end":return e.stop()}}),e)})),save:c.a.mark((function e(t,r){var n,a,u,s,i,p,f,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.put,u=r.select,s=r.call,i=n.values,p=n.success,e.next=5,u((function(e){return e.product}));case 5:if(f=e.sent,d=f.pageData,!i.id){e.next=12;break}return e.next=10,s(o.q,i);case 10:e.next=14;break;case 12:return e.next=14,s(o.p,i);case 14:return e.next=16,a({type:"getPageInfo",payload:{pageData:d}});case 16:p();case 17:case"end":return e.stop()}}),e)})),remove:c.a.mark((function e(t,r){var n,a,u,s,i,p,f,d,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.put,u=r.select,s=r.call,i=n.records,p=n.success,e.next=5,u((function(e){return e.product}));case 5:return f=e.sent,d=f.pageData,l=i.map((function(e){return e.id})),e.next=10,s(o.i,l);case 10:return e.next=12,a({type:"getPageInfo",payload:{pageData:d}});case 12:p();case 13:case"end":return e.stop()}}),e)})),patch:c.a.mark((function e(t,r){var n,a,u,s,i,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.select,u=r.call,s=r.put,i=n.records,e.next=5,a((function(e){return e.product}));case 5:return p=e.sent,f=p.pageData,e.next=9,u(o.o,i);case 9:return e.next=11,s({type:"getPageInfo",payload:{pageData:f}});case 11:case"end":return e.stop()}}),e)})),changeProductAttribute:c.a.mark((function e(t,r){var n,a,u,s,i,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.select,u=r.call,s=r.put,e.next=4,a((function(e){return e.product}));case 4:return i=e.sent,p=i.pageData,e.next=8,u(o.d,n);case 8:return e.next=10,s({type:"getPageInfo",payload:{pageData:p}});case 10:case"end":return e.stop()}}),e)})),removeProductAttribute:c.a.mark((function e(t,r){var n,a,u,s,i,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.select,u=r.call,s=r.put,e.next=4,a((function(e){return e.product}));case 4:return i=e.sent,p=i.pageData,e.next=8,u(o.j,n);case 8:return e.next=10,s({type:"getPageInfo",payload:{pageData:p}});case 10:case"end":return e.stop()}}),e)})),getCategory:c.a.mark((function e(t,r){var n,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.call,a=r.put,e.next=4,n(o.n);case 4:return u=e.sent,e.next=7,a({type:"success",payload:u});case 7:case"end":return e.stop()}}),e)})),changeCategory:c.a.mark((function e(t,r){var n,a,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,u=r.put,e.next=4,a(o.c,n);case 4:return s=e.sent,e.next=7,u({type:"success",payload:{categorys:s}});case 7:case"end":return e.stop()}}),e)})),removeCategory:c.a.mark((function e(t,r){var n,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,u=r.put,e.next=4,a(o.h,n);case 4:return e.next=6,u({type:"getCategory"});case 6:case"end":return e.stop()}}),e)})),getAttribute:c.a.mark((function e(t,r){var n,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.call,a=r.put,e.next=4,n(o.l);case 4:return u=e.sent,e.next=7,a({type:"success",payload:u});case 7:case"end":return e.stop()}}),e)})),changeAttribute:c.a.mark((function e(t,r){var n,a,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,u=r.put,e.next=4,a(o.a,n);case 4:return s=e.sent,e.next=7,u({type:"success",payload:{attributes:s}});case 7:case"end":return e.stop()}}),e)})),removeAttribute:c.a.mark((function e(t,r){var n,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,u=r.put,e.next=4,a(o.f,n);case 4:return e.next=6,u({type:"getAttribute"});case 6:case"end":return e.stop()}}),e)})),getBrand:c.a.mark((function e(t,r){var n,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,n=r.call,a=r.put,e.next=4,n(o.m);case 4:return u=e.sent,e.next=7,a({type:"success",payload:u});case 7:case"end":return e.stop()}}),e)})),changeBrand:c.a.mark((function e(t,r){var n,a,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,u=r.put,e.next=4,a(o.b,n);case 4:return s=e.sent,e.next=7,u({type:"success",payload:{brands:s}});case 7:case"end":return e.stop()}}),e)})),removeBrand:c.a.mark((function e(t,r){var n,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,u=r.put,e.next=4,a(o.g,n);case 4:return e.next=6,u({type:"getBrand"});case 6:case"end":return e.stop()}}),e)}))},reducers:{success:function(e,t){var r=t.payload;return Object(n.a)(Object(n.a)({},e),r)}}})},834:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(14),a=r(15),c=r(193),u=r(75),s=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"requestFormat",value:function(e){return u.a.pageHelper.requestFormat(e)}},{key:"responseFormat",value:function(e){return u.a.pageHelper.responseFormat(e)}},{key:"URLToArray",value:function(e){for(var t={},r=e.substring(e.indexOf("?")+1).split("&"),n=0;n<r.length;n++)if(r[n]){var a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}}]),e}();s.create=function(){return new c.a}},836:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f}));var n=r(32),a=r(55),c=r.n(a),u=r(127),s=r(84),o=r.n(s),i=r(75),p=function(){var e=Object(u.a)(c.a.mark((function e(t,r){var n,a,u,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(t);case 2:for(n=e.sent,a=n.data,u=function e(t,r){if(t.children&&t.children.length>0){for(var n=0;n<t.children.length;n++){if(t.id===r.parent_id)return t.children.push(r),t.children;t.children[n].children=e(t.children[n],r)}return t.children}if(t.id===r.parent_id)return[r]},s=[],i=0;i<a[r].length;i++)a[r][i].parent_id&&null!==a[r][i].parent_id?s[s.length-1].children=u(s[s.length-1],a[r][i]):(a[r][i].children=[],s.push(a[r][i]));return a[r]=s,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(c.a.mark((function e(t,r){var a,s,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.value,s=r.data,p=function(){var e=Object(u.a)(c.a.mark((function e(r,u){var s,f,d,l,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<r.length)){e.next=21;break}if(r[s].parent_id=u,f=Object(n.a)({},r[s]),a&&a.id!==r[s].id){e.next=14;break}return a&&(f=a),d=f.id>0?"put":"post",delete f.children,e.next=10,o.a[d](t+("put"===d?f.id:""),f);case 10:l=e.sent,(v=l.data).message&&i.a.notice.success(v.message),r[s]=Object(n.a)(Object(n.a)({},r[s]),v.data);case 14:if(!r[s].children){e.next=18;break}return e.next=17,p(r[s].children,r[s].id);case 17:r[s].children=e.sent;case 18:s++,e.next=1;break;case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.next=4,p(s,null);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},839:function(e,t,r){"use strict";r.d(t,"k",(function(){return f})),r.d(t,"p",(function(){return d})),r.d(t,"q",(function(){return l})),r.d(t,"i",(function(){return v})),r.d(t,"o",(function(){return x})),r.d(t,"n",(function(){return b})),r.d(t,"c",(function(){return h})),r.d(t,"h",(function(){return g})),r.d(t,"l",(function(){return y})),r.d(t,"a",(function(){return m})),r.d(t,"f",(function(){return w})),r.d(t,"m",(function(){return k})),r.d(t,"b",(function(){return j})),r.d(t,"g",(function(){return O})),r.d(t,"d",(function(){return D})),r.d(t,"j",(function(){return P})),r.d(t,"e",(function(){return A}));var n=r(55),a=r.n(n),c=r(127),u=r(84),s=r.n(u),o=r(834),i=r(836),p=r(75),f=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/product",{params:o.a.requestFormat(t)});case 2:return r=e.sent,n=r.data,e.abrupt("return",o.a.responseFormat(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("/product",t);case 2:return r=e.sent,(n=r.data).message&&p.a.notice.success(n.message),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("/product/"+t.id,t);case 2:return r=e.sent,(n=r.data).message&&p.a.notice.success(n.message),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=10;break}return e.next=4,s.a.delete("/product/"+t[r]);case 4:n=e.sent,(c=n.data).message&&p.a.notice.success(c.message);case 7:r++,e.next=1;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=10;break}return e.next=4,s.a.patch("/product/"+t[r].id,t[r]);case 4:n=e.sent,(c=n.data).message&&p.a.notice.success(c.message);case 7:r++,e.next=1;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.a)("/category/","categorys"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.b)("/category/",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("/category/"+t);case 2:return r=e.sent,(n=r.data).message&&p.a.notice.success(n.message),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.a)("/attribute/","attributes"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.b)("/attribute/",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("/attribute/"+t);case 2:return r=e.sent,(n=r.data).message&&p.a.notice.success(n.message),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.a)("/brand/","brands"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.b)("/brand/",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("/brand/"+t);case 2:return r=e.sent,(n=r.data).message&&p.a.notice.success(n.message),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c,u,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=0;case 2:if(!(n<t.length)){e.next=13;break}return c=t[n].id>0?"put":"post",r=r.concat(t[n].attributes_ids),e.next=7,s.a[c]("/product-attribute/"+("put"===c?t[n].id:""),t[n]);case 7:u=e.sent,(o=u.data).message&&p.a.notice.success(o.message);case 10:n++,e.next=2;break;case 13:return r=r.filter((function(e,t,r){return r.indexOf(e)===t})),e.next=16,s.a.put("/product/"+t[0].product_id,{attributes_ids:r});case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("/product-attribute/"+t);case 2:return r=e.sent,(n=r.data).message&&p.a.notice.success(n.message),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("/check-slug/",t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=14.841aa34d.chunk.js.map